{%- from "jitsi/map.jinja" import jitsi with context %}
# Jitsi Videobridge settings

JVB_OPTS="--subdomain={{ grains.id.split(".")[0] }} --apis=rest,"

# adds java system props that are passed to jvb (default are for home and logging config file)
JAVA_SYS_PROPS="-Dconfig.file=/etc/jitsi/videobridge/jvb.conf -Dnet.java.sip.communicator.SC_HOME_DIR_LOCATION=/etc/jitsi -Dnet.java.sip.communicator.SC_HOME_DIR_NAME=videobridge -Dnet.java.sip.communicator.SC_LOG_DIR_LOCATION=/var/log/jitsi -Djava.util.logging.config.file=/etc/jitsi/videobridge/logging.properties
{%- if grains.oscodename == "buster" %} --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED{% endif %}"